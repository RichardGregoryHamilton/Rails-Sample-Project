<% @title = "Games" %>

<h1>Games Database</h1>

<p class = 'center'>An online video games database</p>

<table class = 'games-table'>
  
  <thead id = 'head'>
    <tr>
      <th id = 'title-id'><%= sortable "title" %></th>
      <th class = 'game-attributes'><%= sortable "console" %></th>
      <th class = 'game-attributes'><%= sortable "genre" %></th>
      <th class = 'game-attributes'><%= sortable :release_date, "Release Date" %></th>
    </tr>
  </thead>
  
  <tbody> 
    
    <% @games.each do |game| %>
    
    <tr class ="info">
      <td><%= game.title %></td>
      <td><%= game.console %></td>
      <td><%= game.genre %></td>
      <td><%= game.release_date %></td>
      
      <% if signed_in? %>
      
        <div>
          <td id = 'actions'><%= link_to 'Show', game, class: 'action' %></td>
          <td id = 'actions'><%= link_to 'Edit', edit_game_path(game), class: 'action' %></td>
          <% if delete_privilege %>
            <td id = 'actions'><%= link_to 'Delete', game, method: :delete, class: 'action' %></td>
          <% end %>
        </div>
        
      <% end %>
      
    </tr>
    
    <% end %>
    
  </tbody>
  
</table>

<% if signed_in? %>

  <p class = 'center'>
    <a href="/games/new" class="btn btn-primary btn-lg active" role="button">Add a new game</a>
  </p>
  
  <p class = 'center'>
	<a href="/games/<%= Game.all.sample.id %>" class="btn btn-warning btn-lg active" role="button">Random Game</a>
	<a href="/top-rated" class="btn btn-warning btn-lg active" role="button">Top Games</a>
	<a href="/console-select" class="btn btn-warning btn-lg active" role="button">Consoles</a>
	<a href="/genre-select" class="btn btn-warning btn-lg active" role="button">Genres</a>
  </p>
  
<% end %>